{% extends 'spamusic/layout.html' %}

{% load staticfiles %}

<!-- page head title -->
{% block base_title %}Playlist | {{ block.super }}{% endblock %}

<!-- Page content header title -->
{% block base_content_header_title %}Les playlists | {{ block.super }}{% endblock %}

<!-- Page content header optional description -->
{% block base_content_header_title_description %}{{ block.super }}{% endblock %}

<!-- Page content breadcrumb (fil d'arianne) -->
<!-- le breadcrumb peut aller jusqu'a une profondeur de 4 (previous4) -->
{% block base_content_header_breadcrumb %}
    {% include 'LTE/breadcrumb.html' with current='spamusic' only %}
{% endblock %}

{% block page_header_addons %}
{% endblock %}

{% block page_footer_addons %}
    <!-- AdminLTE App -->
    <script>
    //URLS parametre globaux pour l'ajax du script
        URLS = {
            spamusicAjouterPlaylist: "{% url 'ajax:spamusicAjouterPlaylist' %}",
        };
    </script>
    <script src="{% static 'spamusic/js/spamusic-index.js' %}" type="text/javascript"></script>
{% endblock %}


{% block page_right_sidebar_contents %}
    <div action="#" method="get" class="sidebar-form" id="add-playlist-form">
        <div class="input-group">
            <input name="name" class="form-control" placeholder="Nouvelle playlist" type="text" onKeyPress="if(event.keyCode == 13){$('#add-playlist-btn').click()}">
            <span class="input-group-btn">
                <button type="button" name="add-playlist" id="add-playlist-btn" class="btn btn-flat"><i class="fa fa-plus"></i></button>
            </span>
        </div>
    </div>
    <ul class="control-sidebar-menu" id="control-playlist-list">
        {% for playlist in playlist_list.items %}
        <li class=""  >
            <a href="#" class="playlist-play-link" data-playlistID="{{ playlist.id }}">
                <div class="control-sidebar-playlist" style="background-image: url('{{ playlist.snippet.thumbnails.medium.url }}')">
                    <div class="overlay">
                        <i class="fa fa-play"></i>
                    </div>
                    <div class="menu-info no-margin playlist-info">
                        <h4 class="control-sidebar-subheading">{{ playlist.snippet.title }}</h4>
                        <p>{{ playlist.contentDetails.itemCount }} Vid√©o(s)</p>
                    </div>
                </div>
            </a>
        </li>
        {% endfor %}
    </ul>
{% endblock %}

{% block body %}
    <div class="jumbotron">
        <h1>{{ title }}</h1>
        <p class="voted vote-up">{{ message }}</p>
        <p>{{ yt_message }}</p>
        <button class="btn btn-default" data-toggle="control-sidebar" onclick="$('a[href=\'#control-sidebar-playlist-tab\']').click();">Voir les playlist</button>
    </div>
{% endblock %}
